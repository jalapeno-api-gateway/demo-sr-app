syntax = "proto3";
package requestservice;

option go_package = "gitlab.ost.ch/ins/jalapeno-api/sr-app/proto/requestservice";

message LsNode {
    string key = 1;
    string name = 2;
    int32 asn = 3;
    string router_ip = 4;
}

message LsNodeRequest {
    repeated string keys = 1;
}

message LsLink {
    string key = 1;
	string router_ip = 2;
	string peer_ip = 3;
	string localLink_ip = 4;
    string remoteLink_ip = 5;
    int32 igp_metric = 6;
}

message LsLinkRequest {
    repeated string keys = 1;
}

message DataRate {
    string ipv4address = 1;
    int64 dataRate = 2;
}

message DataRateRequest {
    repeated string ipv4addresses = 1;
}

service ApiGateway {
    rpc GetLsNodes(LsNodeRequest) returns (stream LsNode) {}
    rpc GetLsLinks(LsLinkRequest) returns (stream LsLink) {}
    rpc GetDataRates(DataRateRequest) returns (stream DataRate) {}
}
